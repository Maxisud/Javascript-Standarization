# 4. Pemrograman Fungsional dengan JavaScript

Pemrograman fungsional adalah paradigma pemrograman yang memperlakukan komputasi sebagai evaluasi dari fungsi matematika dan menghindari perubahan status dan data yang dapat berubah. JavaScript mendukung pemrograman fungsional dan memiliki banyak fitur yang memungkinkan kita untuk memrogram dengan cara ini.

## 4.1 Pengenalan

Pemrograman Fungsional (Functional Programming, FP) adalah salah satu paradigma dalam pemrograman yang berfokus pada komputasi sebagai hasil dari fungsi dan menghindari keadaan yang dapat berubah atau data yang mutable. Dalam FP, fungsi dianggap sebagai warga negara kelas satu (first-class citizen). Ini berarti fungsi bisa diteruskan sebagai argumen ke fungsi lain, dikembalikan sebagai nilai, dan ditempatkan ke dalam variabel.

### Karakteristik Pemrograman Fungsional

#### 1. First-Class dan Higher-Order Functions

Dalam JavaScript, fungsi adalah objek first-class, yang berarti mereka dapat disimpan dalam variabel, diteruskan sebagai argumen, atau dikembalikan dari fungsi lain. Ini memungkinkan pembuatan fungsi tingkat tinggi (higher-order functions) yang mengambil satu atau lebih fungsi sebagai argumen atau mengembalikan fungsi.

```javascript
function greet() {
  return "Hello, World!";
}

const speak = greet;
console.log(speak());  // Hello, World!
```

#### 2. Fungsi Murni

Fungsi murni adalah fungsi yang mengembalikan nilai berdasarkan argumen yang diberikan tanpa efek samping. Ini berarti, untuk set input yang sama, fungsi murni selalu akan mengembalikan hasil yang sama.

```javascript
function add(x, y) {
  return x + y;
}
```

#### 3. Imutabilitas

Dalam pemrograman fungsional, sekali suatu data diatur, tidak dapat diubah. Sebagai gantinya, perubahan pada data akan menghasilkan data baru. Ini adalah konsep dari imutabilitas.

```javascript
const numbers = [1, 2, 3, 4];
const addedNumbers = [...numbers, 5]; // [1, 2, 3, 4, 5]
```

#### 4. Deklaratif daripada Imperatif

Pemrograman fungsional lebih deklaratif. Hal ini berarti kita lebih fokus pada apa yang ingin dicapai daripada bagaimana mencapainya.

```javascript
const doubled = numbers.map(n => n * 2);
```

#### 5. Penghindaran Efek Samping

Fungsi dalam pemrograman fungsional harus menghindari efek samping, yang berarti mereka beroperasi tanpa mengubah keadaan di luar cakupannya.

```javascript
let total = 0;

function addToTotal(value) {
  return total + value;
}
```

### Manfaat Pemrograman Fungsional

1. **Kode yang lebih bersih**: FP membantu menghasilkan kode yang lebih singkat dan jelas.
2. **Mudah didebug**: Dengan menghindari data mutable dan efek samping, kode menjadi lebih dapat diprediksi.
3. **Kemudahan dalam pengujian**: Fungsi murni mempermudah pengujian karena selalu menghasilkan output yang sama untuk input yang sama.

## 4.2 Fungsi Murni

Contoh fungsi murni:

```javascript
function tambah(a, b) {
    return a + b;
}

console.log(tambah(3, 4));  // 7
```

Tidak peduli berapa kali Anda memanggil `tambah(3, 4)`, hasilnya akan selalu `7`.

## 4.3 Imutabilitas

Di JavaScript, Array dan Object adalah tipe referensi, sehingga mereka bisa berubah. Namun, dalam pemrograman fungsional, kita berusaha untuk tidak mengubah data.

```javascript
const angka = [1, 2, 3, 4, 5];

// Imutabilitas: Kami tidak mengubah array asli, tetapi membuat array baru
const angkaDikaliDua = angka.map(num => num * 2);

console.log(angkaDikaliDua);  // [2, 4, 6, 8, 10]
console.log(angka);  // [1, 2, 3, 4, 5]
```

## 4.4 Fungsi Tingkat Tinggi

JavaScript memberi kita fungsi seperti `map`, `filter`, dan `reduce` yang memungkinkan kita untuk memanipulasi data tanpa harus menulis perulangan secara eksplisit.

### `.map()`

Mengembalikan array baru dengan setiap elemen yang telah diproses oleh fungsi.

```javascript
const angka = [1, 2, 3, 4, 5];
const angkaDikaliTiga = angka.map(num => num * 3);

console.log(angkaDikaliTiga);  // [3, 6, 9, 12, 15]
```

### `.filter()`

Mengembalikan array baru dengan elemen yang memenuhi kondisi fungsi.

```javascript
const angka = [1, 2, 3, 4, 5];
const angkaGenap = angka.filter(num => num % 2 === 0);

console.log(angkaGenap);  // [2, 4]
```

### `.reduce()`

Memproses setiap elemen array dengan fungsi dan mengembalikan satu nilai output.

```javascript
const angka = [1, 2, 3, 4, 5];
const jumlah = angka.reduce((total, num) => total + num, 0);

console.log(jumlah);  // 15
```

## 4.5 Praktik: Fungsi `map` dan `filter` Kombinasi

Diberikan array angka: `[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]`, gunakan `.map()` dan `.filter()` untuk mendapatkan array dengan angka ganjil yang dikalikan dengan 2.

### Solusi

```javascript
const angka = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
const hasil = angka.filter(num => num % 2 !== 0).map(num => num * 2);

console.log(hasil);  // [2, 6, 10, 14, 18]
```

**Challenge**: Coba Anda buat fungsionalitas lain dengan kombinasi `.map()`, `.filter()`, dan `.reduce()`. Ingat, eksplorasi dan praktik adalah kunci untuk memahami pemrograman fungsional!


## 4.6 Composing Functions

Dalam pemrograman fungsional, kita sering kali menggabungkan beberapa fungsi:

```javascript
function kaliDua(x) {
    return x * 2;
}

function tambahTiga(x) {
    return x + 3;
}

function compose(fn1, fn2) {
    return function(val) {
        return fn1(fn2(val));
    }
}

const kaliDuaDanTambahTiga = compose(tambahTiga, kaliDua);
console.log(kaliDuaDanTambahTiga(4));  // 11
```

## 4.7 Praktik: Membuat Fungsi `pipe`

Dalam contoh sebelumnya, kita menggunakan `compose` untuk menggabungkan dua fungsi. Sekarang, bagaimana jika kita ingin menggabungkan banyak fungsi? 

```javascript
function pipe(...fns) {
    return function(val) {
        return fns.reduce((acc, fn) => fn(acc), val);
    }
}

const transform = pipe(
    n => n * 2,
    n => n + 3,
    n => n ** 2
);

console.log(transform(3));  // 144
```

### Referensi:
1. [Functional Programming in JavaScript - MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functional_programming)
2. [A Practical Guide to Functional Programming](https://medium.com/@maryrosecook/a-practical-introduction-to-functional-programming-7f3c4f51b7b4)
3. [JavaScript Allong√©: The Six Edition](https://leanpub.com/javascriptallongesix)
